---+ SWI-Prolog on Redhat (Fedora, RHEL, CentOS)

| Fedora release | 23, 24, 25 |
| RHEL | 5 and 6 |
| CentOS | 5 |
| SWI-Prolog release | 7.2.3/7.3.32 |
| Package page | <http://koji.fedoraproject.org/koji/buildinfo?buildID=485155> |
| Maintainer | Petr Pisar |

---++ Status

We have not yet evaluated this release against the guidelines.txt.

---++ Dependencies

Use the following commands to obtain all dependencies for a full build
from source.

==
dnf install \
  autoconf \
  chrpath \
  libunwind \
  freetype-devel \
  gmp-devel \
  java-1.8.0-openjdk-devel \
  jpackage-utils \
  libICE-devel \
  libjpeg-turbo-devel \
  libSM-devel \
  libX11-devel \
  libXaw-devel \
  libXext-devel \
  libXft-devel \
  libXinerama-devel \
  libXmu-devel \
  libXpm-devel \
  libXrender-devel \
  libXt-devel \
  ncurses-devel \
  openssl-devel \
  pkgconfig \
  readline-devel \
  libedit-devel \
  unixODBC-devel \
  zlib-devel \
  uuid-devel \
  libarchive-devel
==

The above is tested on Fedora 23, 24 and 25.  On Fedora < 23 the
following may be different:

  - `dnf` was once called `yum`,

  - `uuid-devel` was once called `libossp-uuid-devel`,

  - before `java-1.8.0-openjdk-devel` there was
    `java-1.7.0-openjdk-devel`,

  - `libjpeg-turbo-devel` was once called `libjpeg-devel`.

---++ Building the RPM

  1. Setup RPM build environment (according to
  [[CreatingPackageHowTo][http://fedoraproject.org/wiki/PackageMaintainers/CreatingPackageHowTo]])

    ==
    % sudo yum groupinstall "Development Tools"
    % sudo yum install rpmdevtools
    % rpmdev-setuptree
    ==

  2. Download from the [[Project page][http://koji.fedoraproject.org/koji/packageinfo?packageID=3471]]

    ==
    % rpm -ihv --nomd5 https://kojipkgs.fedoraproject.org//packages/pl/7.2.3/3.fc25/src/pl-7.2.3-3.fc25.src.rpm
    ==

  3. Install development libraries needed to compile SWI-Prolog

    ==
    % cd ~/rpmbuild
    % su
    % sudo yum install java-1.6.0-openjdk-devel
    % sudo yum install `grep ^BuildRequires SPECS/pl.spec | awk 'NF==2 {print $2}'`
    ==

  4. Build SWI-Prolog

    ==
    % rpmbuild -ba SPECS/pl.spec
    ==

   On RHEL 5 it may become necessary to disable SELinux temporarily to
   build the RPM because the built library libswipl.so requires text
   relocation.

  5. Install the built packages

    ==
    % sudo yum install RPMS/x86_64/pl-*.rpm
    ==

@see LinuxDistro.txt
